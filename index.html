<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Mallard Motorsport Racing</title>
  <link rel="icon" type="image/png" href="media/animlogo4.png"/>
  <script type="module" src="https://unpkg.com/@google/model-viewer/dist/model-viewer.min.js"></script>
  
  <!-- Preload images -->
  <link rel="preload" as="image" href="media/animlogo3.png?v=2">
  <link rel="preload" as="image" href="media/animlogo4.png?v=2">
  
  <!-- External CSS -->
  <link rel="stylesheet" href="styles.css">
  <style>
    @font-face {
      font-family: 'Lexend';
      src: url('fonts/Lexend-Regular.ttf') format('truetype');
      font-weight: 400;
      font-style: normal;
    }
    @font-face {
      font-family: 'Lexend';
      src: url('fonts/Lexend-Bold.ttf') format('truetype');
      font-weight: 700;
      font-style: normal;
    }
    @font-face {
      font-family: 'Lexend';
      src: url('fonts/Lexend-Medium.ttf') format('truetype');
      font-weight: 500;
      font-style: normal;
    }
    @font-face {
      font-family: 'Lexend';
      src: url('fonts/Lexend-ExtraLight.ttf') format('truetype');
      font-weight: 200;
      font-style: normal;
    }
    @font-face {
      font-family: 'Lexend';
      src: url('fonts/Lexend-Thin.ttf') format('truetype');
      font-weight: 100;
      font-style: normal;
    }
    body, html, input, button, textarea {
      font-family: 'Lexend', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
    }
  </style>
</head>
<body>
<!-- Move nav bar to nav.html and load it dynamically in all pages -->
<nav class="drop-down">
  <div class="logo-container">
    <div class="logo-stack">
      <img src="media/animlogo3.png" class="spinning" alt="Spinning Logo Background" onerror="this.style.display='none';document.getElementById('logo-fallback').style.display='block';"/>
      <img src="media/animlogo4.png" class="static" alt="Static Logo" onerror="this.style.display='none';document.getElementById('logo-fallback').style.display='block';"/>
      <div id="logo-fallback" style="display:none;color:#fff;text-align:center;width:100%;position:absolute;top:50%;left:0;transform:translateY(-50%);z-index:10;">Logo unavailable</div>
    </div>
  </div>
  <div class="nav-links" id="mobileNav">
    <a href="index.html" data-spa>Home</a>
    <a href="team.html" data-spa>Team</a>
    <a href="projects.html" data-spa>Projects</a>
    <a href="resources.html" data-spa>Resources</a>
    <a href="https://hcb.hackclub.com/donations/start/ecoengine" target="_blank">Sponsor Us</a>
    <a href="mailto:info@ecoengine.net">Contact</a>
  </div>
</nav>
<div id="spa-root">
  <div class="spa-content">
    <div class="section fade-in fade-delay-1">
      <h1>Mallard Motorsports - Powered by EcoEngine</h1>
      <div class="viewer-container">
        <model-viewer
          id="carViewer"
          src="media/simplecar6.glb"
          alt="A 3D car model"
          camera-controls
          camera-orbit="270deg 75deg 5.5m"
          min-camera-orbit="270deg 45deg 3.5m"
          max-camera-orbit="450deg 80deg 14m"
          style="width: 100%; height: 100%;"
          shadow-intensity="1"
          environment-image="neutral"
          exposure="0.8"
          ar-status="not-presenting"
          preload
        ></model-viewer>
      </div>
      <div class="paragraph">
        <p>
          Mallard Motorsports is a team of high school students dedicated to designing and building cutting-edge solar-powered vehicles. This year, we are engineering a road-legal cruiser capable of seating four passengers – an ambitious step toward sustainable, practical transportation.
        </p>
      </div>
    </div>

    <div class="mission-section fade-in fade-delay-2">
      <div class="mission-text">
        <h2>Our Mission</h2>
        <p>
          We aim to educate the community on sustainable engineering through hands-on innovation. Our team brings together high school students from across South Florida, including Cypress Bay, American Heritage, and FAU High School.
        </p>
        <div class="sponsor-placeholder">
          <div class="sponsor-grid">
            <a href="https://www.carepredict.com/" target="_blank" rel="noopener" class="sponsor-item">
              <img src="media/CarePredict.svg" alt="CarePredict Logo" class="sponsor-logo" />
            </a>
            <a href="https://www.delsanonline.com/" target="_blank" rel="noopener" class="sponsor-item">
              <div style="position:relative;display:inline-block;">
                <img src="media/delsan.png" alt="Delsan Logo" class="sponsor-logo" style="position:relative;z-index:2;" />
                <div style="position:absolute;top:0;left:0;width:100%;height:100%;pointer-events:none;z-index:1;background:radial-gradient(circle,rgba(255,255,255,0.7) 0%,rgba(255,255,255,0.2) 60%,rgba(255,255,255,0) 100%);"></div>
              </div>
            </a>
            <a href="https://polymaker.com/" target="_blank" rel="noopener" class="sponsor-item polymaker">
              <img src="media/Polymaker.avif" alt="Polymaker Logo" class="sponsor-logo" />
            </a>
          </div>
          <div>We are still looking for corporate sponsors! Click the button below!</div>
          <button onclick="window.open('https://hcb.hackclub.com/donations/start/ecoengine', '_blank')">Support Our Mission</button>
          <p class="donor-text">
            We would also like to thank our non-corporate donors: The Wenbo Family, Mei Dong, and Min Luo.
          </p>
        </div>
      </div>
      <div class="mission-logo">
        <div class="logo-stack">
          <img src="media/animlogo3.png" class="spinning" alt="Spinning Logo Background" onerror="this.style.display='none';document.getElementById('logo-fallback2').style.display='block';"/>
          <img src="media/animlogo4.png" class="static" alt="Static Logo" onerror="this.style.display='none';document.getElementById('logo-fallback2').style.display='block';"/>
          <div id="logo-fallback2" style="display:none;color:#fff;text-align:center;width:100%;position:absolute;top:50%;left:0;transform:translateY(-50%);z-index:10;">Logo unavailable</div>
        </div>
      </div>
    </div>

    <div class="cta-section fade-in fade-delay-3" id="team">
      <h2 style="text-align: left; padding-left: 40px;">Our Latest Design</h2>
      <div style="display: flex; align-items: start; justify-content: space-between; gap: 40px; flex-direction: row;">
        <div style="flex: 1;">
          <div style="font-size: 1.6rem; line-height: 1.6; margin-bottom: 30px;">
            <p>
              Currently, we are working on designing our own racing chair molds. We estimate that we will be able to create sturdy chairs out of carbon fiber weighing only <strong style="color: var(--color-accent);">8 pounds</strong> each! We are doing this by 3D-printing custom molds — here is an image of a part we 3D-printed with Polylite ABS.
            </p>
          </div>
          <div style="height: 300px; margin-bottom: 20px;">
            <img src="media/mold1.png" alt="Chair Mold" style="width: 100%; height: 100%; object-fit: cover; border-radius: 8px;" />
          </div>
        </div>
        <div class="viewer-container" style="flex: 1.2; height: 650px; margin-top: -40px;">
          <model-viewer
            id="chairViewer"
            src="media/chair.glb"
            alt="A 3D chair model"
            camera-controls
            camera-orbit="40deg 60deg 2.2m"
            min-camera-orbit="-Infinity 0deg 1.2m"
            max-camera-orbit="Infinity 180deg 10m"
            style="width: 100%; height: 100%; --model-color: rgb(45, 45, 45);"
            shadow-intensity="1"
            environment-image="neutral"
            exposure="0.7"
            ar-status="not-presenting"
            preload
          ></model-viewer>
        </div>
      </div>
    </div>

    <!-- Projects/Resources SPA-like fade transition -->
    <!-- Remove SPA loader script for Projects/Resources -->
    <!-- Wrap all main page content in a #main-content div for SPA transitions -->
    <div class="instagram-section fade-in fade-delay-4">
      <h2>Follow Our Journey on Instagram</h2>
      <div class="instagram-grid" style="display: flex; flex-wrap: wrap; gap: 20px; justify-content: center;">
        <div class="embed-wrapper">
          <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-permalink="https://www.instagram.com/p/DKFqLn_Jv0c/"></blockquote>
        </div>
        <div class="embed-wrapper">
          <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-permalink="https://www.instagram.com/reel/DKLpggDNa8b/"></blockquote>
        </div>
        <div class="embed-wrapper">
          <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-permalink="https://www.instagram.com/p/DKOFDU2o2-E/"></blockquote>
        </div>
        <div class="embed-wrapper">
          <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-permalink="https://www.instagram.com/p/DKpfRANpZ54/"></blockquote>
        </div>
        <div class="embed-wrapper">
          <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-permalink="https://www.instagram.com/p/DK6DZ5nt6VG/"></blockquote>
        </div>
        <div class="embed-wrapper">
          <blockquote class="instagram-media" data-instgrm-captioned data-instgrm-permalink="https://www.instagram.com/p/DLRFiBfo56k/"></blockquote>
        </div>
      </div>
    </div>

    <div class="section mentoring-section fade-in fade-delay-4">
      <div style="width:100%;text-align:center;">
        <h2 style="color:var(--color-accent);font-size:2.2rem;margin-bottom:18px;text-align:center;">Does Your Robotics Team Need Mentoring?</h2>
        <p style="font-size:1.3rem;font-weight:600;margin-bottom:30px;max-width:600px;margin-left:auto;margin-right:auto;">
          We are currently helping other engineering and robotics teams develop their skills in various ways, such as CAD!
        </p>
        <a href="https://discord.gg/QeNfh6RmCv" target="_blank" style="display:inline-block;background-color:var(--color-accent);color:var(--color-dark);padding:14px 32px;border-radius:8px;font-size:1.2rem;font-weight:700;text-decoration:none;transition:background 0.2s;">Reach Out to us Here</a>
      </div>
    </div>
  </div>
</div>
<script>
(function() {
  const spaRoot = document.getElementById('spa-root');
  function loadSpaContent(url, push=true) {
    const oldContent = spaRoot.querySelector('.spa-content');
    if (oldContent) oldContent.classList.add('fade-out');
    setTimeout(() => {
      fetch(url)
        .then(res => res.text())
        .then(html => {
          const temp = document.createElement('div');
          temp.innerHTML = html;
          const newContent = temp.querySelector('.spa-content');
          if (newContent) {
            if (oldContent) spaRoot.removeChild(oldContent);
            newContent.classList.add('fade-in');
            spaRoot.appendChild(newContent);
            setTimeout(() => newContent.classList.remove('fade-in'), 500);
            if (push) history.pushState({spa: true, url}, '', url);
            // Re-initialize Instagram embeds if present
            if (window.instgrm) setTimeout(() => window.instgrm.Embeds.process(), 100);
          }
        });
    }, 350);
  }
  document.addEventListener('click', function(e) {
    const a = e.target.closest('a[data-spa]');
    if (a && a.href && !a.target) {
      e.preventDefault();
      const url = a.getAttribute('href');
      loadSpaContent(url);
    }
  });
  window.addEventListener('popstate', function(e) {
    if (e.state && e.state.spa && e.state.url) {
      loadSpaContent(e.state.url, false);
    }
  });
})();
</script>
<!-- External JavaScript -->
<script src="scripts.js"></script>
<!-- Instagram Embed Script -->
<script async src="https://www.instagram.com/embed.js"></script>
</body>
</html>
